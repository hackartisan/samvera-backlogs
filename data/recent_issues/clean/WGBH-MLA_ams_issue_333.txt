Check to see if records exist before trying to ingest them
Describe the bug In the PBCoreXMLItemIngester, new Asset records are being created with IDs that already exist in Fedora, and a portion, but not all, of the actor stack is getting completed before erroring due to duplicate keys in the relational DB, specifically Sipity::Entity table. To Reproduce Ingest a batch with records having IDs that have already been ingested. Expected behavior Clean clear error message saying the object has already been ingested. Additional context This is due mainly to an incorrect assumption we were making about ActiveFedora, specifically, the following code... Asset.new Asset.id = some_existing_id Asset.save! # <== we'd expect this to error, but it doesn't