Update a user's department and affiliation each time they log in through Shibboleth
Descriptive summary Our approach with user accounts so far has been to pull in their Shibboleth attributes (name, email, department, etc.) on their very first login, but not to update those fields on subsequent logins.  That way, users can tweak their name, phone number, etc. and not have those fields overwritten the next time they log in. However, there are some fields that really should be updated every time the users logs in.  We always want to know a user's current college/department and their affiliation (staff, faculty, student, etc.).  It's reasonable to expect that a person's department or affiliation might change over time.  However, those are fields the user is not allowed to edit themselves and Scholar doesn't currently update them automatically. Todo Update the application so that the User.ucdepartment (this field contains both their college and department) and User.uc_affiliation fields are updated from the user's Shibboleth attributes every time they log in. The changes will be made in app/controllers/callbacks_controller.rb Note: We can't verify this works in our local environments while running the application, but this may be a good opportunity to write a test first.  Verify your code works using your test(s) instead of running the application.  We have mock Shibboleth attributes in spec/controllers/callbacks_controller_spec.rb.