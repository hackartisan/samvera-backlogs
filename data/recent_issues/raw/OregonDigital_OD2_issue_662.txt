undefined method `each' for <String> in block in fetch_external
Descriptive summary We get undefined method each' for #<String:0x000055b96f144960> : ["/usr/local/bundle/bundler/gems/hyrax-e2e1487a320a/app/indexers/hyrax/deep_indexing_service.rb:32:in block in fetch_external' when migrating bag https://github.com/OregonDigital/hyrax-migrator/blob/master/spec/fixtures/batch1/df70bm35k.zip I suspect fetch_external fails since it's expecting an controlled vocabulary object instead of a String. Backtrace: server_1           | failed persisting work 066142180, undefined method `each' for #<String:0x000055b96f144960> : ["/usr/local/bundle/bundler/gems/hyrax-e2e1487a320a/app/indexers/hyrax/deep_indexing_service.rb:32:in `block in fetch_external' /usr/local/bundle/bundler/gems/hyrax-e2e1487a320a/app/indexers/hyrax/deep_indexing_service.rb:31:in `each' /usr/local/bundle/bundler/gems/hyrax-e2e1487a320a/app/indexers/hyrax/deep_indexing_service.rb:31:in `fetch_external' /usr/local/bundle/bundler/gems/hyrax-e2e1487a320a/app/indexers/hyrax/deep_indexing_service.rb:23:in `add_assertions' /usr/local/bundle/gems/active-fedora-11.5.4/lib/active_fedora/rdf/indexing_service.rb:26:in `generate_solr_document' /usr/local/bundle/gems/active-fedora-11.5.4/lib/active_fedora/indexing_service.rb:64:in `solrize_rdf_assertions' /usr/local/bundle/gems/active-fedora-11.5.4/lib/active_fedora/indexing_service.rb:42:in `generate_solr_document' /usr/local/bundle/bundler/gems/hyrax-e2e1487a320a/app/services/hyrax/indexes_thumbnails.rb:14:in `generate_solr_document' /usr/local/bundle/bundler/gems/hyrax-e2e1487a320a/app/indexers/hyrax/indexes_workflow.rb:11:in `generate_solr_document' /usr/local/bundle/bundler/gems/hyrax-e2e1487a320a/app/indexers/hyrax/work_indexer.rb:8:in `generate_solr_document' /data/app/indexers/generic_indexer.rb:9:in `generate_solr_document' /data/app/indexers/document_indexer.rb:6:in `generate_solr_document' /usr/local/bundle/gems/active-fedora-11.5.4/lib/active_fedora/indexing.rb:34:in `to_solr'  Expected behavior It should persist bag https://github.com/OregonDigital/hyrax-migrator/blob/master/spec/fixtures/batch1/df70bm35k.zip and set all the expected attributes. Related work #42 Accessibility Concerns Having a validation on the form for controlled vocabulary enabled fields would be a good idea for usability as well as accessibility