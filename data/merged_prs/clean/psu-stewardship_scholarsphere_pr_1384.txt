Refactor external files migration to avoid OOM error
Use a default value for migration log Split list of pids into files Convert all works using files Write error PIDs to an error file  Connected to #1369 Connected to #1340 Connected to #1302