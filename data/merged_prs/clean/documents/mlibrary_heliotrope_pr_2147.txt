banner logic
Resolves HELIO-2349: Iterate logic for the display of banner def show_banner?(actor, subdomain) # rubocop:disable Metrics/CyclomaticComplexity, Metrics/PerceivedComplexity return false unless controller.is_a?(PressCatalogController) || controller.is_a?(::MonographCatalogController) return false if subdomain.blank? return false unless /michigan/.match?(subdomain) || /heliotrope/.match?(subdomain) product = banner_product(subdomain) return false unless product.present? && product.name.present? && product.purchase.present? return false if Greensub.actor_products(actor).include?(product) return true if controller.is_a?(PressCatalogController) monograph = Sighrax.factory(@monograph_presenter&.id) return false unless monograph.valid? return false if monograph.open_access? Greensub.product_include?(product, monograph.featured_representative) end