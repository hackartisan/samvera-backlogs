Ensure diacritic/bracketed searching works.
Closes #278, closes #281