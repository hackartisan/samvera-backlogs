CurateND #478 Project 14: Collection Display
Claiming issue 478 @ec0bb9b9da207e0f9991438a3100d4133153e33e relates to #478 $ ./script/start-issue 478 [skip ci] Display all common collection members using the common objects viewer @f37f3b0ff360002f22c5b97852bb892b58d846fe Sub-collections were unable to successfully generate a polymorphic_path Only show collection members heading when there are members @90e5d829ee996e045dbe80a272ca3fb2a160051f Treat collection membership as an attribute @ba37ed6635f5b1720b2a344661b27b1f54e0656a Attempting to standardize metadata field order @10f71f5785ea926c31ba1c35a97980682f7b4912 Adding facet for collections. @0767b7de3afbc117d1cb052cdd6ef61bf43565eb This behavior will have to change, at the very least the PID should be expanded to be the collection title. Show search splash if a single collection is selected @a06d4d993f6f2df94025602962784acbe3483f62 Treat collections as non-inclusive facets @4715c87bb26477e4a851faaf52e016e08990c969 SearchSplashPresenter now returns an object rather than a string @a0aa74cb63f4124d3e393636e628bd1eca061ae1 This sets us up for returning the additional attributes we will need to present for a collection. Encapsulating attribute presentation into modules @b5c3023f2a3a6dff24c2d6e8d0ba3a4312b470de Using a constructor is more flexible than a hash literal. Stubbing out CollectionDecorator @476bb5a7366e0a9076274d42a5e5edbd5e3eddde The collection object will have to be loaded in order to provide additional to the view. Replacing an OpenStruct with a Struct @1874357f1804fe4675e21a0e6c1a8e43b69282e6 This simplifies things a bit and speeds it up ever so slightly Returning to if/else from a case statement @811d7e4477accdeddc65c7050efd806196474114 Simplifying constructor in TitleDecorator @0587bd557df168e92cc74507a18ce2d3b7d38f03 Load partial based on selected collection @1cadca314f2bdc2a9703ea9f7c1f7fd525061867 Using the existing attributes partial as a placeholder Allow collection-specific display to span the width of the page @9edf645d26898eb58e4e4341ba39caba4f9ba009 Brining in LibraryCollection representative_media and description @ce02989c7db52e9d8ae5d750472254f7605b2761 Allow helper to render multi-value fields; prefer single quotes @ca9e42a0dbb825318968cec1ce309efc3837c1f8 curation_concern_attribute_to_html can already present repeating fields correctly. There is no need for special markup for Creator, Contributor, etc. Extending existing helper to render attributes as definition lists @1c78f258841862a9800dd616ba7ea9f48b75964e Switching to tag builders from string literals @09dcc230fffcacee7b39b47cb5a122f8eefa4ca4 DLTP-474 #comment Adding collection toggle behavior @b1380f628a2cfe9eaf0d63250fdf3f2a76b5e1ac Removing stray tag @088b82f022f26b7821cf2fc1fd98b79d3795a031 This was breaking the catalog page layout if a collection was NOT selected. Hide chevron if JavaScript is not present @f74a36dc3a495d7c8e380f35c55bab8bca066a5c Listing subcollections on the collection search page @e1cfcbaab325b112fd37be2b05dd5a9346e0ecae List parent collections on collection search splash @f5ff40a1a6dd75aaf8fddb5ce5bdf0193adc779f Attempting to refine collection attribute display @670020357b4b6da8b8d30c7d70d948d126f43020 Refining labels for collection splash tabs @8d9d601d56a65125e2ab170c4486e3644ef72357 Build a URL for searching collections @7ddfdb8a9a53ecea6e93fccb1123376461146e04 I tried to build a custom route for this. It mostly worked but there were a lot of edge cases in how Blacklight passes parameters around. I shelved the work. Listing IndexDocument attributes one at a time @c4f327c3bef6d4ae0a8f428bcbb417ad8c00dd0a Adding facet hierarchy for Collections @fa39b83f2f8ba4d8836a2998dc67ab7da07baf25 Getting CollectionDecorator to “shameless green” @44ce3f8e51c324b6913c2023049a6d045dcaf878 Decorate constraints based on type @2a10ac015f244fbb56d02db67f24d0b312feb613 Removing debugging declaration @17dcf6539659e4d49aea1df758aa56bf7b4a9394 Adjusting text on Collection facet modal @7fedfa1225d77d72230492ac56c9c1640764fd98 Adding presenter to Collection hierarchy facet @8436dc33565f3b22b7093ad82a2c2ce81d5e6418 Building a "search inside" link for library collections @370d791ea9405db8f1edae1d9b6a9ec69e0b314c The non-facetable version of SOLR_KEY_PATHNAME_HIERARCHY_WITH_TITLES was created because the facetable field was not being returned in the Solr doc. It is unclear why this was the case as it is available when looking at the Solr docs returned on the Blacklight search view. Guarding against collections that don't have the needed metadata @8dafe13af1f714441f0c00451149e0a20714f0ae Correcting class name @b624e63d16d56fe06b0a14300916635e2025e445 Desired facet toggling behavior on dedicated page @7e9aba13374174715f6d5c3e1a3485b17fd1f537 The behavior JavaScript is not applied in the facet modal… yet Copying over lightbox dialog behavior from Blacklight @86b4fab5b5b440a82be346926505c7750ee0567a Linting existing Blacklight JavaScript @12bcf0ffd5976b92aa9f7303b185f933a76f7f56 Apply hierarchical facet behavior on Blacklight modal load @6518fe98f6e73dd96333a3ef1ff84bc4c084787a Have top-level collections start expanded when subcollections are selected @45cb1704c345dce612dc313c9b1908bd0a470c89 Writing child objects now requires knowledge about ancestors @a172e40ee0ab145e68ad7d180fc17cd3788f6d1e Changing matcher due to multiple yields @51828d99a5d429a0130e9b623362b2de96f148ca Incrementing the number of matchers @c3cc2eaf9cae656987a95539e902710a7cb170b3 Allow searching inside top-level collections @e2586b7d85b2c307d77be15db40445e824d73587 Top-level collections have no ancestors but should still be searchable.