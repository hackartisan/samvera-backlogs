Duplicate date bugfix
This is a potential fix for #1049 . Here's what I think is going on:   The generic work indexer is not deduplicating date objects before indexing them, as it does for some of the other fields it handles. This leads to duplicates in the SOLR field date_of_work_json_ssm .   The way the front-end display handled dates until a couple weeks ago masked this problem by deduplicating the date_of_work_json_ssm items at display time. ( I haven't investigated quite how yet.)   When I changed the way front-end dates were displayed a couple weeks ago, I used the data in date_of_work_json_ssm directly, thus exposing the problem described in 1).   I feel the best way to fix this problem is to modify the generic work indexer, which this PR does. My sense is that fixing this problem lower in the stack makes more sense, as duplicate dates in the date_of_work_json_ssm index could lead to more trouble down the line. The data in Fedora doesn't appear to contain these duplicates, so, assuming we go this route, a reindex of the items edited since March 20th ( when field date_of_work_json_ssm was introduced ) should fix the problem. We could also run a full reindex, of course. Quick note: I haven't yet made any further changes to date display in this PR, just to reduce confusion. (I did see your note about it in  issue 1049,  , and of course I can easily make that change -- it's just I'd rather deal with this one first). Also -- I added a regression test for this to the new work feature test. To run just the feature test and then examine the solr field in dev, you might want to try a variation on the following: ./bin/rspec spec/features/new_work_feature_spec.rb curl -vs   2>&1 | grep -5 2010  Hope all this makes sense -- let me know how yous feel.