fixes search
Fixes #1673 Fixes #1672