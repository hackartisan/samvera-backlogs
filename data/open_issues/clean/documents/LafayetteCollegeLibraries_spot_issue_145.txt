blacklight_advanced_search can break hyrax catalog search
we've been including :add_advanced_parse_q_to_solr in our catalog's default_processor_chain, but it looks like it breaks the hyrax file joins. with :add_advanced_parse_q_to_solr {   "qt"=>"search",   "facet.field"=>[     "member_of_collections_ssim",     "resource_type_ssim",     "creator_ssim",     "contributor_sim",     "keyword_sim",     "subject_sim",     "academic_department_sim",     "publisher_sim",     "years_encompassed_iim",     "generic_type_sim"   ],   "facet.query"=>[],   "facet.pivot"=>[],   "fq"=>[     "({!terms f=edit_access_group_ssim}public) OR ({!terms f=discover_access_group_ssim}public) OR ({!terms f=read_access_group_ssim}public)",     "{!terms f=has_model_ssim}Publication,Collection",     "-suppressed_bsi:true",     "({!terms f=edit_access_group_ssim}public) OR ({!terms f=discover_access_group_ssim}public) OR ({!terms f=read_access_group_ssim}public)",     "-suppressed_bsi:true"   ],   "hl.fl"=>[],   "rows"=>10,   "qf"=>" file_format_tesim all_text_timv",   "pf"=>"title_tesim",   "q"=>"stepsingers",   "facet"=>true,   "f.member_of_collections_ssim.facet.limit"=>6,   "f.resource_type_ssim.facet.limit"=>6,   "f.creator_ssim.facet.limit"=>6,    "f.contributor_sim.facet.limit"=>6,    "f.keyword_sim.facet.limit"=>6,   "f.subject_sim.facet.limit"=>6,    "f.academic_department_sim.facet.limit"=>6,    "f.publisher_sim.facet.limit"=>6,   "sort"=>"score desc, system_create_dtsi desc",    "user_query"=>"stepsingers",    "defType"=>"dismax",   "f.member_of_collection_ids_ssim.facet.matches"=>"^$",    "stats"=>"true",   "stats.field"=>["years_encompassed_iim"] } without :add_advanced_parse_q_to_solr {   "qt"=>"search",   "facet.field"=>[     "member_of_collections_ssim",     "resource_type_ssim",     "creator_ssim",     "contributor_sim",     "keyword_sim",     "subject_sim",     "academic_department_sim",     "publisher_sim",     "years_encompassed_iim",     "generic_type_sim"   ],   "facet.query"=>[],   "facet.pivot"=>[],   "fq"=>[     "({!terms f=edit_access_group_ssim}public) OR ({!terms f=discover_access_group_ssim}public) OR ({!terms f=read_access_group_ssim}public)",     "{!terms f=has_model_ssim}Publication,Collection",     "-suppressed_bsi:true",     "({!terms f=edit_access_group_ssim}public) OR ({!terms f=discover_access_group_ssim}public) OR ({!terms f=read_access_group_ssim}public)",     "-suppressed_bsi:true"   ],   "hl.fl"=>[],   "rows"=>10,   "qf"=>" file_format_tesim all_text_timv",   "pf"=>"title_tesim",   "q"=>"{!lucene}_query_:\"{!dismax v=$user_query}\" _query_:\"{!join from=id to=file_set_ids_ssim}{!dismax v=$user_query}\"",   "facet"=>true,   "f.member_of_collections_ssim.facet.limit"=>6,   "f.resource_type_ssim.facet.limit"=>6,   "f.creator_ssim.facet.limit"=>6,   "f.contributor_sim.facet.limit"=>6,   "f.keyword_sim.facet.limit"=>6,   "f.subject_sim.facet.limit"=>6,   "f.academic_department_sim.facet.limit"=>6,   "f.publisher_sim.facet.limit"=>6,   "sort"=>"score desc, system_create_dtsi desc",   "user_query"=>"stepsingers",   "defType"=>"lucene",   "f.member_of_collection_ids_ssim.facet.matches"=>"^$",   "stats"=>"true",   "stats.field"=>["years_encompassed_iim"] } note: it looks like :add_advanced_parse_q_to_solr is truncating the {!join from=id to=file_set_ids_ssim} work that's happening in the hyrax catalog search