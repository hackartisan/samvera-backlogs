[hydrus/stage] ActionView::Template::Error: undefined method `split' for nil:NilClass
Backtrace line 550 of [PROJECT_ROOT]/app/models/hydrus/item.rb: end_of_embargo_range line 526 of [PROJECT_ROOT]/app/models/hydrus/item.rb: embargo_date_in_range line 20 of [PROJECT_ROOT]/app/models/hydrus/validatable.rb: validate!  View full backtrace and more info at honeybadger.io This can occur when you create a collection with an embargo date, then create an item within that collection, then change the collection embargo to "none" and then try to view the item that was created. To prevent something like this we need to change one of the following:  the item should copy the embargo from the collection at create time When the embargo settings on a collection are changed, then change all of the member items.
Solution to this must take into account the additional flexibility afforded by the embargo configuration possibilities in Hydrus at collection and item levels: embargo can be determined at the collection level with a pre-set value (including none) or can be variable at the item-level up to a specified period from the time of deposit.   Given this potential variability over item objects and collection objects over time, form-level validation (at time of object submission only) may be the better approach than model-level validation. 