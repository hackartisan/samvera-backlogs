Derivatives are not getting generated becuase the temporary file is being deleted
We delete the file here: https://github.com/projecthydra/sufia/blob/7.2-migration/lib/sufia/import/version_builder.rb#L20 The later resque processes the derivatives job, which tries to access the file that does not exists and fails... Worker ssjobs1qa:18131 on files at 2016/11/23 11:31:15 -0500 Retry or Remove Class ActiveJob::QueueAdapters::ResqueAdapter::JobWrapper Arguments --- job_class: CreateDerivativesJob job_id: 4ebb0df5-a014-4c36-9d7e-ac0d3632c201 queue_name: files arguments: - _aj_globalid: gid://scholar-sphere/FileSet/4m90dv56d - 4m90dv56d/files/63db85d8-9c00-4c08-8b0d-cf84cdb55da4 - "/tmp/4m90dv56d_version4" locale: en Exception Errno::ENOENT Error No such file or directory @ rb_sysopen - /tmp/4m90dv56d_version4.pdf